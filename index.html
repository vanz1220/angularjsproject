<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <title>List Of Races</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>

        <script src="/index.js"></script>
        <style>
            .panel > .table thead > tr th{
                text-align: center;
            }
            .panel > .table tbody > tr td{
                text-align: center;
            }
            .meseg {
                background-color: #f00;
                color: #fff;
                text-align: center;
                font-weight: bold;
                height: fit-content;
                margin-left: 10px;
            }
        </style>
    </head>
    <body>
        
        <div class="row" data-ng-controller="ctrl" data-ng-app="app" style="margin: 10px;">
            <div class="col-md-8" style="display: flex; margin: 15px">
                <input type="date" ng-model="datedetails" ng-change="getdatedetails()" id="t" value=""/>
                <select class="form-control" ng-change="getdetails()" ng-model="x" ng-options="item as item.venue for item in myData1" style="width: 200px;">
                    <option value="" selected >Select a Venue</option>
                    <option value="" ></option>
                </select>
                <input readOnly type="text" id="marketid" value="{{ x.marketId }}" />
                <span class="meseg" ng-show="myvalue2">{{msg}}</span><br />
            </div>
            <div class="col-md-12" ng-show="myvalue">
                <div class="panel panel-primary" >
                    <table ng-table="tableParams" cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="exampleone">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Market Id</th>
                                <th>Selection Id</th>
                                <th>Number</th>
                                <th>Name</th>
                                <th>trainer</th>
                                <th>jockey</th>
                                <th>age</th>
                                <th>weight</th>
                                <th>dslr</th>
                                <th>odds</th>
                                <th>volume</th>
                                <th>ip_low</th>
                                <th>bsp</th>
                                <th>position</th>
                                <th>status</th>
                                <th>Ratings</th>
                                <th>Operations</th>
                            </tr>                                    
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="runner in runnersList">
                                <td>{{runner.id}}</td>
                                <td>{{runner.marketId}}</td>
                                <td>{{runner.selectionId}}</td>
                                <td>{{runner.number}}</td>
                                <td>{{runner.name}}</td>
                                <td>{{runner.trainer}}</td>
                                <td>{{runner.jockey}}</td>
                                <td>{{runner.age}}</td>
                                <td>{{runner.weight}}</td>
                                <td>{{runner.dslr}}</td>
                                <td>{{runner.odds}}</td>
                                <td>{{runner.volume}}</td>
                                <td>{{runner.ip_low}}</td>
                                <td>{{runner.bsp}}</td>
                                <td>{{runner.position}}</td>
                                <td>{{runner.status}}</td>
                                <td>
                                <select ng-model="selectedGroup">
                                    <option value="{{runner.b4y_rating}}" selected="selected">{{runner.b4y_rating}}</option>
                                    <option data-ng-repeat="group in groups" [ngValue]="group">{{group.value}}</option>
                                </select>
                                </td>
                                <td>
                                    <button ng-click="updateData(runner.selectionId, selectedGroup)" class="btn btn-info btn-xs">Update</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>